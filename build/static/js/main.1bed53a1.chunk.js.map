{"version":3,"sources":["components/Blocks/index.module.scss","components/Heading/index.module.scss","components/App/app.module.scss","components/Heading/index.tsx","utils/getNoun.ts","context.ts","components/Blocks/index.tsx","components/App/App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","Heading","className","s","heading","getNoun","number","one","two","five","n","Math","abs","Context","React","createContext","Blocks","data","useContext","useState","selectedItems","setSelectedItems","unhoveredItemIdx","setUnhoveredItemIdx","handleClick","idx","selectedItemsCopy","reanderHint","item","available","text","link","role","tabIndex","onClick","notAvailable","taste","root","map","cn","container","active","inactive","onMouseLeave","handleMouseLeave","onMouseEnter","handleMouseEnter","wrapper","block","mouseOver","title","subtitle","bold","amount","promotion","rating","weight","description","App","Provider","value","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1bed53a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Blocks_root__2ZW1V\",\"container\":\"Blocks_container__1TKUz\",\"active\":\"Blocks_active__2aSbS\",\"weight\":\"Blocks_weight__2_xAg\",\"inactive\":\"Blocks_inactive__3TgI2\",\"wrapper\":\"Blocks_wrapper__1cI4g\",\"bold\":\"Blocks_bold__QGXc5\",\"block\":\"Blocks_block__1H3Bu\",\"title\":\"Blocks_title__1nvL_\",\"subtitle\":\"Blocks_subtitle__wZakR\",\"mouseOver\":\"Blocks_mouseOver__2giOD\",\"link\":\"Blocks_link__2vZcM\",\"text\":\"Blocks_text__1SKqt\",\"notAvailable\":\"Blocks_notAvailable__2Twhb\",\"description\":\"Blocks_description__MlzzC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__1fYNF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__31sc2\",\"container\":\"app_container__3QrYH\"};","import React from 'react';\nimport s from './index.module.scss';\n\nexport const Heading: React.FC = () => (\n  <>\n    <h2 className={s.heading}>А ты сегодня покормил кота? </h2>\n  </>\n);\n","function getNoun(number: number, one: string, two:string, five: string): string {\n  let n = Math.abs(number);\n  n %= 100;\n  if (n >= 5 && n <= 20) {\n    return five;\n  }\n  n %= 10;\n  if (n === 1) {\n    return one;\n  }\n  if (n >= 2 && n <= 4) {\n    return two;\n  }\n  return five;\n}\nexport default getNoun;\n","import React from 'react';\nimport { ContextType } from './types';\n\nconst Context = React.createContext<ContextType>({} as ContextType);\n\nexport default Context;\n","import React, { useContext, useState } from 'react';\nimport getNoun from 'utils/getNoun';\nimport cn from 'classnames';\nimport { DataType } from 'types';\nimport Context from '../../context';\nimport s from './index.module.scss';\n\nexport const Blocks: React.FC = () => {\n  const { data } = useContext(Context);\n  const [selectedItems, setSelectedItems] = useState<{[idx: number]: boolean}>({});\n  const [unhoveredItemIdx, setUnhoveredItemIdx] = useState<number | null>(null);\n\n  const handleClick = (idx: number) => {\n    const selectedItemsCopy = { ...selectedItems };\n    selectedItemsCopy[idx] = !selectedItemsCopy[idx];\n    setSelectedItems({ ...selectedItemsCopy });\n  };\n\n  const handleMouseLeave = (idx: number) => {\n    if (selectedItems[idx]) {\n      setUnhoveredItemIdx(idx);\n    }\n  };\n\n  const handleMouseEnter = (idx: number) => {\n    if (selectedItems[idx] && unhoveredItemIdx === idx) {\n      setUnhoveredItemIdx(null);\n    }\n  };\n\n  const reanderHint = (item: DataType, idx: number) => {\n    if (!item.available) {\n      return (\n        <div className={s.notAvailable}>\n          Печалька,\n          {' '}\n          {item.taste}\n          {' '}\n          закончился.\n        </div>\n      );\n    }\n    return (\n      <div className={s.text}>\n        Чего сидишь? Порадуй котэ,\n        &nbsp;\n        <span\n          className={s.link}\n          role=\"button\"\n          tabIndex={idx}\n          onClick={() => handleClick(idx)}\n        >\n          купи\n        </span>\n        .\n      </div>\n    );\n  };\n\n  return (\n    <div className={s.root}>\n      {data.map((item, idx) => (\n        <div\n          key={idx}\n          className={cn([s.container],\n            {\n              [s.active]: selectedItems[idx] && item.available,\n              [s.inactive]: !item.available,\n            },\n            {})}\n          onMouseLeave={() => handleMouseLeave(idx)}\n          onMouseEnter={() => handleMouseEnter(idx)}\n        >\n          <div\n            className={s.wrapper}\n            role=\"button\"\n            tabIndex={idx}\n            onClick={() => handleClick(idx)}\n          >\n            <div className={s.block}>\n              {\n                unhoveredItemIdx === idx && item.available\n                  ? <div className={s.mouseOver}>Котэ не одобряет?</div>\n                  : <div>Сказочное заморское явство</div>\n              }\n              <div className={s.title}>{item.title}</div>\n              <div className={s.subtitle}>{item.taste}</div>\n              <div>\n                <span className={s.bold}>{item.amount}</span>\n                {' '}\n                {getNoun(item.amount, 'порция', 'порции', 'порций')}\n              </div>\n              <div>\n                {item.promotion > 1 && <span className={s.bold}>{item.promotion}</span>}\n                {' '}\n                {getNoun(item.promotion, 'мышь', 'мыши', 'мышей')}\n                {' '}\n                в подарок\n              </div>\n              { item.rating && <div>{item.rating}</div>}\n              <div className={s.weight}>\n                {item.weight}\n                {' '}\n              </div>\n            </div>\n          </div>\n          {selectedItems[idx] && item.available\n            ? (\n              <div className={s.description}>{item.description}</div>\n            )\n            : reanderHint(item, idx)}\n        </div>\n      ))}\n    </div>\n  );\n};\n","import React from 'react';\nimport data from 'data/goods-api.json';\nimport { Heading } from 'components/Heading';\nimport { Blocks } from 'components/Blocks';\nimport s from './app.module.scss';\nimport Context from '../../context';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n\n      <Context.Provider value={{\n        data,\n      }}\n      >\n        <div className={s.container}>\n          <Heading />\n          <Blocks />\n        </div>\n      </Context.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}